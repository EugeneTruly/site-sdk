angular.module("app.controllers",[]).controller("HomeCtrl",function(){}).controller("LoginCtrl",["$scope","$rootScope","$http","$state","$location",function(n,t,i,r,u){n.user={},n.modelState=u.$$search.auth=="failed"?{"":["Failed to login via external authentication provider."]}:{},n.login=function(u){i.post("/api/login",u).success(function(i,u){u==200?(t.user=i,r.transitionTo("main.home")):n.modelState=i.modelState}).error(function(t,i){i==400&&(n.modelState=t.modelState)})},n.externalLogin=function(n){var t=document.createElement("form");t.method="POST",t.action="/api/externallogin/"+n,document.body.appendChild(t),t.submit()},n.hasErrors=function(){for(var t in n.modelState)if(n.modelState.hasOwnProperty(t))return!0;return!1},n.getErrors=function(){var t,i=[];for(t in n.modelState)n.modelState.hasOwnProperty(t)&&t!=""&&(i=i.concat(n.modelState[t]));return i}}]).controller("RegisterCtrl",["$scope","$rootScope","$http","$state",function(n,t,i,r){n.user={},n.modelState={},n.register=function(u){i.post("/api/register",u).success(function(i,u){u==201?(t.user=i,r.transitionTo("main.home")):n.modelState=i.modelState}).error(function(t,i){n.modelState=i==400?t.modelState:{"":[t.message?t.message:"Internal server error."]}})},n.hasErrors=function(){for(var t in n.modelState)if(n.modelState.hasOwnProperty(t))return!0;return!1},n.getErrors=function(){var t,i=[];for(t in n.modelState)n.modelState.hasOwnProperty(t)&&t!=""&&(i=i.concat(n.modelState[t]));return i}}])